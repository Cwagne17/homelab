# =============================================================================
# ArgoCD Base - Bootstrap Configuration
#
# NOTE: ArgoCD is automatically installed via k3s HelmChart during VM boot.
# This kustomization only contains the app-of-apps to bootstrap applications.
#
# Apply after k3s starts and ArgoCD is ready:
#   kubectl apply -k k8s/overlays/prod
#
# Refs: Req 5.1, 5.2
# =============================================================================
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: argocd

resources:
  # App-of-apps to bootstrap all applications
  # (ArgoCD itself is installed via k3s HelmChart in the golden image)
  - app-of-apps.yaml

# Labels applied to all resources
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  homelab.local/component: argocd
