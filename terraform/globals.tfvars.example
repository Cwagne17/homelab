# =============================================================================
# Global OpenTofu/Terraform Variables
#
# This file contains common variables shared across all environments.
# Copy to globals.tfvars and customize for your infrastructure.
#
# Usage:
#   tofu plan -var-file=../../globals.tfvars
#   tofu apply -var-file=../../globals.tfvars
#
# Note: Environment-specific values should be set in each env's terraform.tfvars
#
# Refs: Req 7.2, 7.3
# =============================================================================

# -----------------------------------------------------------------------------
# Proxmox Connection
#
# These can also be set via environment variables:
#   export PM_API_URL="https://10.23.45.10:8006/api2/json"
#   export PM_API_TOKEN_ID="root@pam!terraform"
#   export PM_API_TOKEN_SECRET="your-token-secret"
# -----------------------------------------------------------------------------

pm_api_url      = "https://proxmox.example.com:8006/api2/json"  # TODO: Update with your Proxmox URL
pm_api_token_id = "root@pam!terraform"                          # TODO: Update with your API token ID

# IMPORTANT: Set pm_api_token_secret via environment variable for security:
#   export PM_API_TOKEN_SECRET="your-secret-token"
# Or uncomment the line below (NOT recommended for production):
# pm_api_token_secret = "CHANGEME"

pm_tls_insecure = true  # Set to false if you have valid TLS certificates

# -----------------------------------------------------------------------------
# Proxmox Infrastructure
# -----------------------------------------------------------------------------

proxmox_node   = "pve"        # TODO: Your Proxmox node name
storage_pool   = "local-lvm"  # TODO: Your storage pool (e.g., vmdata, ceph-pool)
network_bridge = "vmbr0"      # TODO: Your network bridge

# -----------------------------------------------------------------------------
# Default Network Configuration
# TODO: Update with your network settings
# -----------------------------------------------------------------------------

vm_gateway    = "10.23.45.1"  # TODO: Your network gateway
vm_nameserver = "10.23.45.1"  # TODO: Your DNS server (can be same as gateway or separate)

# -----------------------------------------------------------------------------
# Cloud-init Defaults
# -----------------------------------------------------------------------------

ci_user = "admin"

# TODO: Replace with your SSH public key
# You can also read from a file in terraform.tfvars:
#   ssh_public_key = file("~/.ssh/id_ed25519.pub")
ssh_public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIExampleKeyReplaceMeWithYourActualKey user@example.com"

# -----------------------------------------------------------------------------
# Image Versioning
# Update when building new Packer images
# -----------------------------------------------------------------------------

template_name = "alma9-k3-node-amd64-v1.28.5-v1"

# -----------------------------------------------------------------------------
# Environment-Specific Values
#
# The following are typically set per-environment in terraform.tfvars:
#   - vm_name
#   - vm_ip
#   - vm_cores
#   - vm_memory
#   - vm_disk_size
# -----------------------------------------------------------------------------
